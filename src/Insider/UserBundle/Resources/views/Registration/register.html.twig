{% extends "InsiderUserBundle::layout.html.twig" %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            $("#fos_user_registration_form_plainPassword_first").strength({
                strengthClass: 'form-control'
            });
        })
    </script>
{% endblock javascripts %}

{% block fos_user_content %}
    <div id="container">
        <div class="{{ full }} article">
            <div class="block-content-wrapper">
                <div class="block-content text-center">
                    <h1>Регистрация</h1>
                    <div class="login">
                        {% if user.odnoklassnikiId is not empty or user.vkontakteId is not empty or user.facebookId is not empty %}
                            <div style="color: darkgreen">Вы вошли через социальную сеть. Вам необходимо заполнить поля логин и пароль для возможности авторизации на сайте без социальной сети</div>
                        {% endif %}
                        {% form_theme form 'InsiderUserBundle:Security:fields.html.twig' %}
                        <form
                            action="{{ path('fos_user_registration_register') }}"
                            {{ form_enctype(form) }}
                            method="POST"
                            class="fos_user_registration_register"
                        >
                            <div class="form-group">
                                {{ form_errors(form.email) }}
                                {{ form_widget(form.email, {attr: {class: 'form-control', placeholder: 'Email'}}) }}
                            </div>
                            <div class="form-group">
                                {{ form_errors(form.username) }}
                                {{ form_widget(form.username, {attr: {class: 'form-control', placeholder: 'Имя пользователя'}}) }}
                            </div>
                            <div class="form-group">
                                {{ form_errors(form.plainPassword.first) }}
                                {{ form_widget(form.plainPassword.first, {attr: {class: 'form-control', placeholder: 'Пароль'}}) }}
                            </div>
                            <div class="form-group">
                                {{ form_errors(form.plainPassword.second) }}
                                {{ form_widget(form.plainPassword.second, {attr: {class: 'form-control', placeholder: 'Повторите пароль'}}) }}
                            </div>
                            <div class="form-group">
                                {{ form_row(form.recaptcha, {attr: {class: 'form-control', placeholder: 'Повторите пароль'}}) }}
                            </div>
                            <div class="form-group">
                                <input
                                    type="submit"
                                    id="_submit"
                                    name="_submit"
                                    class="form-control btn btn-primary"
                                    value="{{ 'registration.submit'|trans({}, 'FOSUserBundle') }}"
                                />
                            </div>
                        {{ form_end(form) }}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock fos_user_content %}